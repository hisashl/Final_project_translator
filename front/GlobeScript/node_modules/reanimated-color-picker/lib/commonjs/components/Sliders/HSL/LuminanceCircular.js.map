{"version":3,"file":"LuminanceCircular.js","names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeGestureHandler","_reactNativeReanimated","_index","_interopRequireDefault","_AppContext","_styles","_Thumb","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","LuminanceCircular","children","gestures","style","containerStyle","rotate","props","hueValue","saturationValue","brightnessValue","onGestureChange","onGestureEnd","ctx","usePickerContext","thumbShape","thumbSize","thumbColor","renderThumb","thumbStyle","sliderThickness","thumbScaleAnimationValue","thumbScaleAnimationDuration","adaptSpectrum","thumbInnerStyle","isGestureActive","useSharedValue","width","borderRadius","borderRadiusStyle","useAnimatedStyle","value","handleScale","thumbSide","lastHslSaturationValue","hsl","useDerivedValue","hsvColor","h","s","v","l","colorKit","runOnUI","HSL","object","handleStyle","center","distance","angle","mirroredAngle","posY","Math","sin","PI","posX","cos","transform","translateX","translateY","scale","activeColorStyle","backgroundColor","clipViewStyle","position","height","onGestureUpdate","x","y","dx","dy","theta","atan2","newLuminanceValue","HSV","onGestureBegin","event","R","clickR","sqrt","innerR","withTiming","duration","onGestureFinish","pan","Gesture","Pan","onBegin","onUpdate","onEnd","tap","Tap","longPress","LongPress","composed","Simultaneous","Exclusive","onLayout","useCallback","nativeEvent","layout","layoutWidth","createElement","GestureDetector","gesture","View","styles","panel_container","justifyContent","alignItems","aspectRatio","borderWidth","padding","panel_image","Image","source","flex","resizeMode","channel","innerStyle"],"sources":["../../../../src/components/Sliders/HSL/LuminanceCircular.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Image } from 'react-native';\nimport { Gesture, GestureDetector } from 'react-native-gesture-handler';\nimport Animated, { useAnimatedStyle, useDerivedValue, useSharedValue, withTiming } from 'react-native-reanimated';\n\nimport colorKit from '../../../colorKit/index';\nimport usePickerContext from '../../../AppContext';\nimport { styles } from '../../../styles';\nimport Thumb from '../../Thumb/Thumb';\n\nimport type { LuminanceCircularProps } from '../../../types';\nimport type { LayoutChangeEvent } from 'react-native';\nimport type { PanGestureHandlerEventPayload } from 'react-native-gesture-handler';\n\nexport function LuminanceCircular({\n  children,\n  gestures = [],\n  style = {},\n  containerStyle = {},\n  rotate = 0,\n  ...props\n}: LuminanceCircularProps) {\n  const { hueValue, saturationValue, brightnessValue, onGestureChange, onGestureEnd, ...ctx } = usePickerContext();\n\n  const thumbShape = props.thumbShape ?? ctx.thumbShape,\n    thumbSize = props.thumbSize ?? ctx.thumbSize,\n    thumbColor = props.thumbColor ?? ctx.thumbColor,\n    renderThumb = props.renderThumb ?? ctx.renderThumb,\n    thumbStyle = props.thumbStyle ?? ctx.thumbStyle ?? {},\n    sliderThickness = props.sliderThickness ?? ctx.sliderThickness,\n    thumbScaleAnimationValue = props.thumbScaleAnimationValue ?? ctx.thumbScaleAnimationValue,\n    thumbScaleAnimationDuration = props.thumbScaleAnimationDuration ?? ctx.thumbScaleAnimationDuration,\n    adaptSpectrum = props.adaptSpectrum ?? ctx.adaptSpectrum,\n    thumbInnerStyle = props.thumbInnerStyle ?? ctx.thumbInnerStyle ?? {};\n\n  const isGestureActive = useSharedValue(false);\n  const width = useSharedValue(0);\n  const borderRadius = useSharedValue(0);\n  const borderRadiusStyle = useAnimatedStyle(() => ({ borderRadius: borderRadius.value }), [borderRadius]);\n\n  const handleScale = useSharedValue(1);\n  const thumbSide = useSharedValue<0 | 1>(0); // to determine in which side of the circle the thumb is\n  const lastHslSaturationValue = useSharedValue(0);\n\n  // We need to keep track of the HSL saturation value because, when the luminance is 0 or 100,\n  // when converting to/from HSV, the previous saturation value will be lost.\n  const hsl = useDerivedValue(() => {\n    const hsvColor = { h: hueValue.value, s: saturationValue.value, v: brightnessValue.value };\n    const { h, s, l } = colorKit.runOnUI().HSL(hsvColor).object(false);\n    if (l === 100 || l === 0) return { h, s: lastHslSaturationValue.value, l };\n    lastHslSaturationValue.value = s;\n    return { h, s, l };\n  }, [hueValue, saturationValue, brightnessValue]);\n\n  const handleStyle = useAnimatedStyle(() => {\n    const center = width.value / 2,\n      distance = (width.value - sliderThickness) / 2,\n      angle = (hsl.value.l / 100) * 180 + thumbSide.value * 180,\n      mirroredAngle = ((thumbSide.value === 1 ? 180 - angle : angle) - rotate) % 360,\n      posY = width.value - (Math.sin((mirroredAngle * Math.PI) / 180) * distance + center) - thumbSize / 2,\n      posX = width.value - (Math.cos((mirroredAngle * Math.PI) / 180) * distance + center) - thumbSize / 2;\n\n    return {\n      transform: [\n        { translateX: posX },\n        { translateY: posY },\n        { scale: handleScale.value },\n        { rotate: mirroredAngle + 90 + 'deg' },\n      ],\n    };\n  }, [width, hsl, handleScale, thumbSide]);\n\n  const activeColorStyle = useAnimatedStyle(() => {\n    return {\n      backgroundColor: `hsl(${hsl.value.h}, ${adaptSpectrum ? hsl.value.s : 100}%, ${50}%)`,\n      borderRadius: width.value / 2,\n    };\n  }, [hueValue, saturationValue, width]);\n\n  const clipViewStyle = useAnimatedStyle(() => {\n    return {\n      position: 'absolute',\n      width: width.value - sliderThickness * 2,\n      height: width.value - sliderThickness * 2,\n      borderRadius: width.value / 2,\n    };\n  }, [width]);\n\n  const onGestureUpdate = ({ x, y }: PanGestureHandlerEventPayload) => {\n    'worklet';\n\n    if (!isGestureActive.value) return;\n\n    const center = width.value / 2,\n      dx = center - x,\n      dy = center - y,\n      theta = (Math.atan2(dy, dx) + rotate * (Math.PI / 180)) * (180 / Math.PI), // [0 - 180] range\n      angle = theta < 0 ? 360 + theta : theta, // [0 - 360] range\n      mirroredAngle = angle <= 180 ? angle : 360 - angle,\n      newLuminanceValue = (mirroredAngle / 180) * 100;\n\n    thumbSide.value = angle <= 180 ? 0 : 1;\n\n    if (newLuminanceValue === hsl.value.l) return;\n\n    const { s, v } = colorKit.runOnUI().HSV({ h: hsl.value.h, s: hsl.value.s, l: newLuminanceValue }).object(false);\n\n    saturationValue.value = s;\n    brightnessValue.value = v;\n\n    onGestureChange();\n  };\n\n  const onGestureBegin = (event: PanGestureHandlerEventPayload) => {\n    'worklet';\n\n    const R = width.value / 2,\n      dx = R - event.x,\n      dy = R - event.y,\n      clickR = Math.sqrt(dx * dx + dy * dy);\n\n    // Check if the press is outside the circle\n    if (clickR > R) {\n      isGestureActive.value = false;\n      return;\n    }\n\n    // check if the press inside the circle (not on the actual slider)\n    const innerR = width.value / 2 - sliderThickness;\n    if (clickR < innerR) {\n      isGestureActive.value = false;\n      return;\n    }\n\n    isGestureActive.value = true;\n    handleScale.value = withTiming(thumbScaleAnimationValue, { duration: thumbScaleAnimationDuration });\n    onGestureUpdate(event);\n  };\n\n  const onGestureFinish = () => {\n    'worklet';\n    isGestureActive.value = false;\n    handleScale.value = withTiming(1, { duration: thumbScaleAnimationDuration });\n    onGestureEnd();\n  };\n\n  const pan = Gesture.Pan().onBegin(onGestureBegin).onUpdate(onGestureUpdate).onEnd(onGestureFinish);\n  const tap = Gesture.Tap().onEnd(onGestureFinish);\n  const longPress = Gesture.LongPress().onEnd(onGestureFinish);\n  const composed = Gesture.Simultaneous(Gesture.Exclusive(pan, tap, longPress), ...gestures);\n\n  const onLayout = useCallback(({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n    const layoutWidth = layout.width;\n    width.value = layoutWidth;\n    borderRadius.value = withTiming(layoutWidth / 2, { duration: 5 });\n  }, []);\n\n  return (\n    <GestureDetector gesture={composed}>\n      <Animated.View\n        onLayout={onLayout}\n        style={[\n          styles.panel_container,\n          { justifyContent: 'center', alignItems: 'center' },\n          style,\n          { position: 'relative', aspectRatio: 1, borderWidth: 0, padding: 0 },\n          borderRadiusStyle,\n        ]}\n      >\n        <Animated.View style={[styles.panel_image, activeColorStyle, { transform: [{ rotate: -rotate + 'deg' }] }]}>\n          <Image\n            source={require('../../../assets/angular-luminance.png')}\n            style={{ width: '100%', height: '100%', flex: 1 }}\n            resizeMode='stretch'\n          />\n        </Animated.View>\n\n        <Animated.View style={[clipViewStyle, { backgroundColor: '#fff' }, containerStyle]}>{children}</Animated.View>\n\n        <Thumb\n          channel='v'\n          thumbShape={thumbShape}\n          thumbSize={thumbSize}\n          thumbColor={thumbColor}\n          renderThumb={renderThumb}\n          innerStyle={thumbInnerStyle}\n          handleStyle={handleStyle}\n          style={thumbStyle}\n          adaptSpectrum={adaptSpectrum}\n        />\n      </Animated.View>\n    </GestureDetector>\n  );\n}\n"],"mappings":"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"}