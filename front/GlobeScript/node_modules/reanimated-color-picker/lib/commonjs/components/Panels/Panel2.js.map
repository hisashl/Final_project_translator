{"version":3,"file":"Panel2.js","names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeGestureHandler","_reactNativeReanimated","_index","_interopRequireDefault","_AppContext","_styles","_Thumb","_utils","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","Panel2","verticalChannel","reverseHue","reverseVerticalChannel","gestures","style","props","hueValue","saturationValue","brightnessValue","onGestureChange","onGestureEnd","ctx","usePickerContext","thumbShape","thumbSize","thumbColor","boundedThumb","renderThumb","thumbStyle","thumbInnerStyle","thumbScaleAnimationValue","thumbScaleUpValue","thumbScaleAnimationDuration","thumbScaleUpDuration","adaptSpectrum","borderRadius","getStyle","getHeight","width","useSharedValue","height","handleScale","lastHslSaturationValue","hsl","useDerivedValue","hsvColor","h","value","s","v","l","colorKit","runOnUI","HSL","object","verticalChannelValue","handleStyle","useAnimatedStyle","length","x","y","percentX","posX","percentY","posY","transform","translateX","translateY","scale","spectrumStyle","backgroundColor","panelImageStyle","rotate","isRtl","onGestureUpdate","lengthX","lengthY","clamp","valueX","valueY","newHueValue","newChannelValue","HSV","onGestureBegin","event","withTiming","duration","onGestureFinish","pan","Gesture","Pan","onBegin","onUpdate","onEnd","tap","Tap","longPress","LongPress","composed","Simultaneous","Exclusive","onLayout","useCallback","nativeEvent","layout","createElement","GestureDetector","gesture","View","styles","panel_container","position","borderWidth","padding","ImageBackground","source","panel_image","scaleX","resizeMode","ConditionalRendering","if","StyleSheet","absoluteFillObject","Image","tintColor","undefined","channel","innerStyle"],"sources":["../../../src/components/Panels/Panel2.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { ImageBackground, StyleSheet } from 'react-native';\nimport { Gesture, GestureDetector } from 'react-native-gesture-handler';\nimport Animated, { useAnimatedStyle, useDerivedValue, useSharedValue, withTiming } from 'react-native-reanimated';\n\nimport colorKit from '../../colorKit/index';\nimport usePickerContext from '../../AppContext';\nimport { styles } from '../../styles';\nimport Thumb from '../Thumb/Thumb';\nimport { clamp, ConditionalRendering, getStyle, isRtl } from '../../utils';\n\nimport type { Panel2Props } from '../../types';\nimport type { LayoutChangeEvent } from 'react-native';\nimport type { PanGestureHandlerEventPayload } from 'react-native-gesture-handler';\n\n/** - A square-shaped slider (windows style) is utilized to adjust the hue and (saturation or brightness) channels. */\nexport function Panel2({\n  verticalChannel = 'saturation',\n  reverseHue = false,\n  reverseVerticalChannel = false,\n  gestures = [],\n  style = {},\n  ...props\n}: Panel2Props) {\n  const { hueValue, saturationValue, brightnessValue, onGestureChange, onGestureEnd, ...ctx } = usePickerContext();\n\n  const thumbShape = props.thumbShape ?? ctx.thumbShape,\n    thumbSize = props.thumbSize ?? ctx.thumbSize,\n    thumbColor = props.thumbColor ?? ctx.thumbColor,\n    boundedThumb = props.boundedThumb ?? ctx.boundedThumb,\n    renderThumb = props.renderThumb ?? ctx.renderThumb,\n    thumbStyle = props.thumbStyle ?? ctx.thumbStyle ?? {},\n    thumbInnerStyle = props.thumbInnerStyle ?? ctx.thumbInnerStyle ?? {},\n    thumbScaleAnimationValue = props.thumbScaleUpValue ?? ctx.thumbScaleAnimationValue,\n    thumbScaleAnimationDuration = props.thumbScaleUpDuration ?? ctx.thumbScaleAnimationDuration,\n    adaptSpectrum = props.adaptSpectrum ?? ctx.adaptSpectrum;\n\n  const borderRadius = getStyle(style, 'borderRadius') ?? 5;\n  const getHeight = getStyle(style, 'height') ?? 200;\n\n  const width = useSharedValue(0);\n  const height = useSharedValue(0);\n  const handleScale = useSharedValue(1);\n  const lastHslSaturationValue = useSharedValue(0);\n\n  // We need to keep track of the HSL saturation value because, when the luminance is 0 or 100,\n  // when converting to/from HSV, the previous saturation value will be lost.\n  const hsl = useDerivedValue(() => {\n    const hsvColor = { h: hueValue.value, s: saturationValue.value, v: brightnessValue.value };\n    const { h, s, l } = colorKit.runOnUI().HSL(hsvColor).object(false);\n    if (l === 100 || l === 0) return { h, s: lastHslSaturationValue.value, l };\n    lastHslSaturationValue.value = s;\n    return { h, s, l };\n  }, [hueValue, saturationValue, brightnessValue]);\n\n  const verticalChannelValue = useDerivedValue(() => {\n    if (verticalChannel === 'brightness') return brightnessValue.value;\n    if (verticalChannel === 'hsl-saturation') return hsl.value.s;\n    return saturationValue.value;\n  }, [brightnessValue, saturationValue, hsl]);\n\n  const handleStyle = useAnimatedStyle(() => {\n    const length = { x: width.value - (boundedThumb ? thumbSize : 0), y: height.value - (boundedThumb ? thumbSize : 0) },\n      percentX = (hueValue.value / 360) * length.x,\n      posX = (reverseHue ? length.x - percentX : percentX) - (boundedThumb ? 0 : thumbSize / 2),\n      percentY = (verticalChannelValue.value / 100) * length.y,\n      posY = (reverseVerticalChannel ? percentY : length.y - percentY) - (boundedThumb ? 0 : thumbSize / 2);\n\n    return { transform: [{ translateX: posX }, { translateY: posY }, { scale: handleScale.value }] };\n  }, [width, height, hueValue, verticalChannelValue, handleScale]);\n\n  const spectrumStyle = useAnimatedStyle(() => {\n    if (!adaptSpectrum) return {};\n\n    if (verticalChannel === 'brightness') {\n      return { backgroundColor: `rgba(255, 255, 255, ${1 - saturationValue.value / 100})` };\n    }\n\n    if (verticalChannel === 'hsl-saturation') {\n      if (hsl.value.l < 50) return { backgroundColor: `rgba(0, 0, 0, ${1 - hsl.value.l / 50})` };\n      return { backgroundColor: `rgba(255, 255, 255, ${(hsl.value.l - 50) / 50})` };\n    }\n\n    return { backgroundColor: `rgba(0, 0, 0, ${1 - brightnessValue.value / 100})` };\n  }, [saturationValue, brightnessValue]);\n\n  const panelImageStyle = useAnimatedStyle(() => {\n    return {\n      width: height.value,\n      height: width.value,\n      transform: [\n        { rotate: reverseVerticalChannel ? '90deg' : '270deg' },\n        { translateX: ((width.value - height.value) / 2) * (reverseVerticalChannel ? -1 : 1) },\n        { translateY: ((width.value - height.value) / 2) * (isRtl ? -1 : 1) * (reverseVerticalChannel ? -1 : 1) },\n      ],\n    };\n  }, [width, height]);\n\n  const onGestureUpdate = ({ x, y }: PanGestureHandlerEventPayload) => {\n    'worklet';\n\n    const lengthX = width.value - (boundedThumb ? thumbSize : 0),\n      lengthY = height.value - (boundedThumb ? thumbSize : 0),\n      posX = clamp(x - (boundedThumb ? thumbSize / 2 : 0), lengthX),\n      posY = clamp(y - (boundedThumb ? thumbSize / 2 : 0), lengthY),\n      valueX = (posX / lengthX) * 360,\n      valueY = (posY / lengthY) * 100,\n      newHueValue = reverseHue ? 360 - valueX : valueX,\n      newChannelValue = reverseVerticalChannel ? valueY : 100 - valueY;\n\n    if (hueValue.value === newHueValue && verticalChannelValue.value === newChannelValue) return;\n\n    hueValue.value = newHueValue;\n\n    if (verticalChannel === 'hsl-saturation') {\n      // To prevent locking this slider when the luminance is 0 or 100,\n      // this should not affect the resulting color, as the value will be rounded.\n      const l = hsl.value.l === 0 ? 0.01 : hsl.value.l === 100 ? 99.99 : hsl.value.l;\n      const { s, v } = colorKit.runOnUI().HSV({ h: hsl.value.h, s: newChannelValue, l }).object(false);\n      saturationValue.value = s;\n      brightnessValue.value = v;\n    } else if (verticalChannel === 'brightness') {\n      brightnessValue.value = newChannelValue;\n    } else {\n      saturationValue.value = newChannelValue;\n    }\n\n    onGestureChange();\n  };\n\n  const onGestureBegin = (event: PanGestureHandlerEventPayload) => {\n    'worklet';\n    handleScale.value = withTiming(thumbScaleAnimationValue, { duration: thumbScaleAnimationDuration });\n    onGestureUpdate(event);\n  };\n\n  const onGestureFinish = () => {\n    'worklet';\n    handleScale.value = withTiming(1, { duration: thumbScaleAnimationDuration });\n    onGestureEnd();\n  };\n\n  const pan = Gesture.Pan().onBegin(onGestureBegin).onUpdate(onGestureUpdate).onEnd(onGestureFinish);\n  const tap = Gesture.Tap().onEnd(onGestureFinish);\n  const longPress = Gesture.LongPress().onEnd(onGestureFinish);\n  const composed = Gesture.Simultaneous(Gesture.Exclusive(pan, tap, longPress), ...gestures);\n\n  const onLayout = useCallback(({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n    width.value = layout.width;\n    height.value = layout.height;\n  }, []);\n\n  return (\n    <GestureDetector gesture={composed}>\n      <Animated.View\n        onLayout={onLayout}\n        style={[styles.panel_container, { height: getHeight }, style, { position: 'relative', borderWidth: 0, padding: 0 }]}\n      >\n        <ImageBackground\n          source={require('../../assets/Hue.png')}\n          style={[styles.panel_image, { position: 'relative', borderRadius, transform: [{ scaleX: reverseHue ? -1 : 1 }] }]}\n          resizeMode='stretch'\n        >\n          <ConditionalRendering if={adaptSpectrum && verticalChannel === 'brightness'}>\n            <Animated.View style={[spectrumStyle, StyleSheet.absoluteFillObject]} />\n          </ConditionalRendering>\n\n          <Animated.Image\n            source={require('../../assets/blackGradient.png')}\n            style={[\n              styles.panel_image,\n              panelImageStyle,\n              {\n                tintColor: verticalChannel === 'saturation' ? '#fff' : verticalChannel === 'hsl-saturation' ? '#888' : undefined,\n              },\n            ]}\n            resizeMode='stretch'\n          />\n\n          <ConditionalRendering if={adaptSpectrum && (verticalChannel === 'saturation' || verticalChannel === 'hsl-saturation')}>\n            <Animated.View style={[spectrumStyle, StyleSheet.absoluteFillObject]} />\n          </ConditionalRendering>\n        </ImageBackground>\n\n        <Thumb\n          channel={verticalChannel === 'brightness' ? 'v' : 's'}\n          thumbShape={thumbShape}\n          thumbSize={thumbSize}\n          thumbColor={thumbColor}\n          renderThumb={renderThumb}\n          innerStyle={thumbInnerStyle}\n          handleStyle={handleStyle}\n          style={thumbStyle}\n          adaptSpectrum={adaptSpectrum}\n        />\n      </Animated.View>\n    </GestureDetector>\n  );\n}\n"],"mappings":"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"}