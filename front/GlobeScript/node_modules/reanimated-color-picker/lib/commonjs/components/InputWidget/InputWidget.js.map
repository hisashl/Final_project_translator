{"version":3,"file":"InputWidget.js","names":["_react","_interopRequireWildcard","require","_reactNative","_index","_interopRequireDefault","_AppContext","_styles","_utils","_HexWidget","_HslWidget","_HsvWidget","_HwbWidget","_RgbWidget","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","defaultFormats","InputWidget","defaultFormat","formats","iconColor","disableAlphaChannel","containerStyle","inputStyle","inputTitleStyle","iconStyle","inputProps","setColor","returnedResults","hueValue","saturationValue","brightnessValue","alphaValue","onGestureChange","onGestureEnd","usePickerContext","format","setFormat","useState","includes","onChange","color","_colorKit$getFormat","isHex","colorKit","getFormat","setAlpha","hsv","object","cycle","index","indexOf","nextIndex","length","inputsProps","Input","createElement","gap","getStyle","iconWidth","buttonIconStyle","StyleSheet","flatten","styles","arrowButton","View","style","container","inputsWrapper","ConditionalRendering","if","width","Pressable","onPress","Image","tintColor","source","Text","inputTitle"],"sources":["../../../src/components/InputWidget/InputWidget.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Image, Pressable, StyleSheet, Text, View } from 'react-native';\n\nimport colorKit from '../../colorKit/index';\nimport usePickerContext from '../../AppContext';\nimport { styles } from '../../styles';\nimport { ConditionalRendering, getStyle } from '../../utils';\nimport HexWidget from './Widgets/HexWidget';\nimport HslWidget from './Widgets/HslWidget';\nimport HsvWidget from './Widgets/HsvWidget';\nimport HwbWidget from './Widgets/HwbWidget';\nimport RgbWidget from './Widgets/RgbWidget';\n\nimport type { InputWidgetProps } from '../../types';\nimport type { SupportedColorFormats } from '../../colorKit/types';\n\nconst defaultFormats = ['HEX', 'RGB', 'HSL', 'HWB', 'HSV'] as const;\n\nexport function InputWidget({\n  defaultFormat = 'HEX',\n  formats = defaultFormats,\n  iconColor = 'black',\n  disableAlphaChannel = false,\n  containerStyle = {},\n  inputStyle = {},\n  inputTitleStyle = {},\n  iconStyle = {},\n  inputProps = {},\n}: InputWidgetProps) {\n  const { setColor, returnedResults, hueValue, saturationValue, brightnessValue, alphaValue, onGestureChange, onGestureEnd } =\n    usePickerContext();\n\n  const [format, setFormat] = useState<typeof defaultFormat>(\n    formats.includes(defaultFormat) ? defaultFormat : formats[0] ?? 'HEX',\n  );\n\n  const onChange = (color: SupportedColorFormats) => {\n    const isHex = colorKit.getFormat(color)?.includes('hex');\n    if (disableAlphaChannel && isHex) color = colorKit.setAlpha(color, 1).hsv().object(false);\n\n    setColor(color, 0);\n    onGestureChange(color);\n    onGestureEnd(color);\n  };\n\n  const cycle = () => {\n    const index = formats.indexOf(format);\n    const nextIndex = (index + 1) % formats.length;\n    setFormat(formats[nextIndex]);\n  };\n\n  const inputsProps = {\n    onChange,\n    returnedResults,\n    hueValue,\n    saturationValue,\n    brightnessValue,\n    alphaValue,\n    inputStyle,\n    inputTitleStyle,\n    inputProps,\n    disableAlphaChannel,\n  };\n  const Input = () => {\n    switch (format) {\n      case 'HEX':\n        return <HexWidget {...inputsProps} />;\n      case 'RGB':\n        return <RgbWidget {...inputsProps} />;\n      case 'HSL':\n        return <HslWidget {...inputsProps} />;\n      case 'HWB':\n        return <HwbWidget {...inputsProps} />;\n      case 'HSV':\n        return <HsvWidget {...inputsProps} />;\n    }\n  };\n\n  const gap = getStyle(containerStyle, 'gap') ?? 5;\n  const iconWidth = getStyle(iconStyle, 'width') ?? 24;\n  const buttonIconStyle = StyleSheet.flatten([styles.arrowButton, iconStyle]);\n\n  return (\n    <View style={[styles.container, containerStyle]}>\n      <View style={[styles.inputsWrapper, { gap }]}>\n        <Input />\n      </View>\n\n      <ConditionalRendering if={formats.length > 1}>\n        <View style={{ width: iconWidth }}>\n          <Pressable onPress={cycle}>\n            <Image style={[buttonIconStyle, { tintColor: iconColor }]} source={require('../../assets/arrow-icon.png')} />\n          </Pressable>\n          <Text style={styles.inputTitle}> </Text>\n        </View>\n      </ConditionalRendering>\n    </View>\n  );\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAEA,IAAAE,MAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,WAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AACA,IAAAO,UAAA,GAAAJ,sBAAA,CAAAH,OAAA;AACA,IAAAQ,UAAA,GAAAL,sBAAA,CAAAH,OAAA;AACA,IAAAS,UAAA,GAAAN,sBAAA,CAAAH,OAAA;AACA,IAAAU,UAAA,GAAAP,sBAAA,CAAAH,OAAA;AACA,IAAAW,UAAA,GAAAR,sBAAA,CAAAH,OAAA;AAA4C,SAAAG,uBAAAS,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAjB,wBAAAiB,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAH,UAAA,SAAAG,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAF,OAAA,EAAAE,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAJ,CAAA,UAAAG,CAAA,CAAAE,GAAA,CAAAL,CAAA,OAAAM,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAZ,CAAA,oBAAAY,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAY,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAX,CAAA,EAAAY,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAZ,CAAA,CAAAY,CAAA,YAAAN,CAAA,CAAAR,OAAA,GAAAE,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAjB,CAAA,EAAAM,CAAA,GAAAA,CAAA;AAK5C,MAAMY,cAAc,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAU;AAE5D,SAASC,WAAWA,CAAC;EAC1BC,aAAa,GAAG,KAAK;EACrBC,OAAO,GAAGH,cAAc;EACxBI,SAAS,GAAG,OAAO;EACnBC,mBAAmB,GAAG,KAAK;EAC3BC,cAAc,GAAG,CAAC,CAAC;EACnBC,UAAU,GAAG,CAAC,CAAC;EACfC,eAAe,GAAG,CAAC,CAAC;EACpBC,SAAS,GAAG,CAAC,CAAC;EACdC,UAAU,GAAG,CAAC;AACE,CAAC,EAAE;EACnB,MAAM;IAAEC,QAAQ;IAAEC,eAAe;IAAEC,QAAQ;IAAEC,eAAe;IAAEC,eAAe;IAAEC,UAAU;IAAEC,eAAe;IAAEC;EAAa,CAAC,GACxH,IAAAC,mBAAgB,EAAC,CAAC;EAEpB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG,IAAAC,eAAQ,EAClCnB,OAAO,CAACoB,QAAQ,CAACrB,aAAa,CAAC,GAAGA,aAAa,GAAGC,OAAO,CAAC,CAAC,CAAC,IAAI,KAClE,CAAC;EAED,MAAMqB,QAAQ,GAAIC,KAA4B,IAAK;IAAA,IAAAC,mBAAA;IACjD,MAAMC,KAAK,IAAAD,mBAAA,GAAGE,cAAQ,CAACC,SAAS,CAACJ,KAAK,CAAC,cAAAC,mBAAA,uBAAzBA,mBAAA,CAA2BH,QAAQ,CAAC,KAAK,CAAC;IACxD,IAAIlB,mBAAmB,IAAIsB,KAAK,EAAEF,KAAK,GAAGG,cAAQ,CAACE,QAAQ,CAACL,KAAK,EAAE,CAAC,CAAC,CAACM,GAAG,CAAC,CAAC,CAACC,MAAM,CAAC,KAAK,CAAC;IAEzFrB,QAAQ,CAACc,KAAK,EAAE,CAAC,CAAC;IAClBR,eAAe,CAACQ,KAAK,CAAC;IACtBP,YAAY,CAACO,KAAK,CAAC;EACrB,CAAC;EAED,MAAMQ,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMC,KAAK,GAAG/B,OAAO,CAACgC,OAAO,CAACf,MAAM,CAAC;IACrC,MAAMgB,SAAS,GAAG,CAACF,KAAK,GAAG,CAAC,IAAI/B,OAAO,CAACkC,MAAM;IAC9ChB,SAAS,CAAClB,OAAO,CAACiC,SAAS,CAAC,CAAC;EAC/B,CAAC;EAED,MAAME,WAAW,GAAG;IAClBd,QAAQ;IACRZ,eAAe;IACfC,QAAQ;IACRC,eAAe;IACfC,eAAe;IACfC,UAAU;IACVT,UAAU;IACVC,eAAe;IACfE,UAAU;IACVL;EACF,CAAC;EACD,MAAMkC,KAAK,GAAGA,CAAA,KAAM;IAClB,QAAQnB,MAAM;MACZ,KAAK,KAAK;QACR,oBAAOxD,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACnE,UAAA,CAAAO,OAAS,EAAK0D,WAAc,CAAC;MACvC,KAAK,KAAK;QACR,oBAAO1E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAAC/D,UAAA,CAAAG,OAAS,EAAK0D,WAAc,CAAC;MACvC,KAAK,KAAK;QACR,oBAAO1E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAAClE,UAAA,CAAAM,OAAS,EAAK0D,WAAc,CAAC;MACvC,KAAK,KAAK;QACR,oBAAO1E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAAChE,UAAA,CAAAI,OAAS,EAAK0D,WAAc,CAAC;MACvC,KAAK,KAAK;QACR,oBAAO1E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACjE,UAAA,CAAAK,OAAS,EAAK0D,WAAc,CAAC;IACzC;EACF,CAAC;EAED,MAAMG,GAAG,GAAG,IAAAC,eAAQ,EAACpC,cAAc,EAAE,KAAK,CAAC,IAAI,CAAC;EAChD,MAAMqC,SAAS,GAAG,IAAAD,eAAQ,EAACjC,SAAS,EAAE,OAAO,CAAC,IAAI,EAAE;EACpD,MAAMmC,eAAe,GAAGC,uBAAU,CAACC,OAAO,CAAC,CAACC,cAAM,CAACC,WAAW,EAAEvC,SAAS,CAAC,CAAC;EAE3E,oBACE7C,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAAkF,IAAI;IAACC,KAAK,EAAE,CAACH,cAAM,CAACI,SAAS,EAAE7C,cAAc;EAAE,gBAC9C1C,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAAkF,IAAI;IAACC,KAAK,EAAE,CAACH,cAAM,CAACK,aAAa,EAAE;MAAEX;IAAI,CAAC;EAAE,gBAC3C7E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACD,KAAK,MAAE,CACJ,CAAC,eAEP3E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACpE,MAAA,CAAAiF,oBAAoB;IAACC,EAAE,EAAEnD,OAAO,CAACkC,MAAM,GAAG;EAAE,gBAC3CzE,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAAkF,IAAI;IAACC,KAAK,EAAE;MAAEK,KAAK,EAAEZ;IAAU;EAAE,gBAChC/E,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAAyF,SAAS;IAACC,OAAO,EAAExB;EAAM,gBACxBrE,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAA2F,KAAK;IAACR,KAAK,EAAE,CAACN,eAAe,EAAE;MAAEe,SAAS,EAAEvD;IAAU,CAAC,CAAE;IAACwD,MAAM,EAAE9F,OAAO,8BAA8B;EAAE,CAAE,CACnG,CAAC,eACZF,MAAA,CAAAgB,OAAA,CAAA4D,aAAA,CAACzE,YAAA,CAAA8F,IAAI;IAACX,KAAK,EAAEH,cAAM,CAACe;EAAW,GAAC,GAAO,CACnC,CACc,CAClB,CAAC;AAEX"}