{"version":3,"file":"RgbWidget.js","names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_index","_interopRequireDefault","_utils","_WidgetTextInput","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","RgbWidget","onChange","returnedResults","hueValue","saturationValue","brightnessValue","alphaValue","inputStyle","inputTitleStyle","inputProps","disableAlphaChannel","rgb","useRef","colorKit","RGB","rgba","object","useSharedValue","current","toString","g","b","useDerivedValue","runOnUI","value","onRedEndEditing","text","red","clamp","onGreenEndEditing","green","onBlueEndEditing","blue","onAlphaEndEditing","alpha","parseFloat","createElement","Fragment","textStyle","textValue","title","onEndEditing","ConditionalRendering","if","decimal"],"sources":["../../../../src/components/InputWidget/Widgets/RgbWidget.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport { useDerivedValue, useSharedValue } from 'react-native-reanimated';\n\nimport colorKit from '../../../colorKit/index';\nimport { clamp, ConditionalRendering } from '../../../utils';\nimport WidgetTextInput from './WidgetTextInput';\n\nimport type { WidgetProps } from '../../../types';\n\nexport default function RgbWidget({\n  onChange,\n  returnedResults,\n  hueValue,\n  saturationValue,\n  brightnessValue,\n  alphaValue,\n  inputStyle,\n  inputTitleStyle,\n  inputProps,\n  disableAlphaChannel,\n}: WidgetProps) {\n  const rgb = useRef(colorKit.RGB(returnedResults().rgba).object(false));\n\n  const r = useSharedValue(rgb.current.r.toString());\n  const g = useSharedValue(rgb.current.g.toString());\n  const b = useSharedValue(rgb.current.b.toString());\n  const a = useSharedValue(rgb.current.a.toString());\n\n  useDerivedValue(() => {\n    [hueValue, saturationValue, brightnessValue, alphaValue]; // track changes on Native\n    rgb.current = colorKit.runOnUI().RGB(returnedResults().rgba).object(false);\n    r.value = rgb.current.r.toString();\n    g.value = rgb.current.g.toString();\n    b.value = rgb.current.b.toString();\n    a.value = rgb.current.a.toString();\n  }, [hueValue, saturationValue, brightnessValue, alphaValue]); // track changes on WEB\n\n  const onRedEndEditing = (text: string) => {\n    const red = clamp(+text, 255);\n    r.value = ''; // force update in case the value of `r` didn't change\n    onChange({ r: red, g: +g.value, b: +b.value, a: +a.value });\n  };\n\n  const onGreenEndEditing = (text: string) => {\n    const green = clamp(+text, 255);\n    g.value = ''; // force update in case the value of `g` didn't change\n    onChange({ r: +r.value, g: green, b: +b.value, a: +a.value });\n  };\n\n  const onBlueEndEditing = (text: string) => {\n    const blue = clamp(+text, 255);\n    b.value = ''; // force update in case the value of `b` didn't change\n    onChange({ r: +r.value, g: +g.value, b: blue, a: +a.value });\n  };\n\n  const onAlphaEndEditing = (text: string) => {\n    const alpha = clamp(parseFloat(text), 1);\n    a.value = ''; // force update in case the value of `a` didn't change\n    onChange({ r: +r.value, g: +g.value, b: +b.value, a: alpha });\n  };\n\n  return (\n    <>\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={r}\n        title='R'\n        onEndEditing={onRedEndEditing}\n        inputProps={inputProps}\n      />\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={g}\n        title='G'\n        onEndEditing={onGreenEndEditing}\n        inputProps={inputProps}\n      />\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={b}\n        title='B'\n        onEndEditing={onBlueEndEditing}\n        inputProps={inputProps}\n      />\n      <ConditionalRendering if={!disableAlphaChannel}>\n        <WidgetTextInput\n          inputStyle={inputStyle}\n          textStyle={inputTitleStyle}\n          textValue={a}\n          title='A'\n          onEndEditing={onAlphaEndEditing}\n          inputProps={inputProps}\n          decimal\n        />\n      </ConditionalRendering>\n    </>\n  );\n}\n"],"mappings":"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"}