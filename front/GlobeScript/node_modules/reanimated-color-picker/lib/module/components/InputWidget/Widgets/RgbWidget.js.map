{"version":3,"file":"RgbWidget.js","names":["React","useRef","useDerivedValue","useSharedValue","colorKit","clamp","ConditionalRendering","WidgetTextInput","RgbWidget","onChange","returnedResults","hueValue","saturationValue","brightnessValue","alphaValue","inputStyle","inputTitleStyle","inputProps","disableAlphaChannel","rgb","RGB","rgba","object","r","current","toString","g","b","a","runOnUI","value","onRedEndEditing","text","red","onGreenEndEditing","green","onBlueEndEditing","blue","onAlphaEndEditing","alpha","parseFloat","createElement","Fragment","textStyle","textValue","title","onEndEditing","if","decimal"],"sources":["../../../../src/components/InputWidget/Widgets/RgbWidget.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport { useDerivedValue, useSharedValue } from 'react-native-reanimated';\n\nimport colorKit from '../../../colorKit/index';\nimport { clamp, ConditionalRendering } from '../../../utils';\nimport WidgetTextInput from './WidgetTextInput';\n\nimport type { WidgetProps } from '../../../types';\n\nexport default function RgbWidget({\n  onChange,\n  returnedResults,\n  hueValue,\n  saturationValue,\n  brightnessValue,\n  alphaValue,\n  inputStyle,\n  inputTitleStyle,\n  inputProps,\n  disableAlphaChannel,\n}: WidgetProps) {\n  const rgb = useRef(colorKit.RGB(returnedResults().rgba).object(false));\n\n  const r = useSharedValue(rgb.current.r.toString());\n  const g = useSharedValue(rgb.current.g.toString());\n  const b = useSharedValue(rgb.current.b.toString());\n  const a = useSharedValue(rgb.current.a.toString());\n\n  useDerivedValue(() => {\n    [hueValue, saturationValue, brightnessValue, alphaValue]; // track changes on Native\n    rgb.current = colorKit.runOnUI().RGB(returnedResults().rgba).object(false);\n    r.value = rgb.current.r.toString();\n    g.value = rgb.current.g.toString();\n    b.value = rgb.current.b.toString();\n    a.value = rgb.current.a.toString();\n  }, [hueValue, saturationValue, brightnessValue, alphaValue]); // track changes on WEB\n\n  const onRedEndEditing = (text: string) => {\n    const red = clamp(+text, 255);\n    r.value = ''; // force update in case the value of `r` didn't change\n    onChange({ r: red, g: +g.value, b: +b.value, a: +a.value });\n  };\n\n  const onGreenEndEditing = (text: string) => {\n    const green = clamp(+text, 255);\n    g.value = ''; // force update in case the value of `g` didn't change\n    onChange({ r: +r.value, g: green, b: +b.value, a: +a.value });\n  };\n\n  const onBlueEndEditing = (text: string) => {\n    const blue = clamp(+text, 255);\n    b.value = ''; // force update in case the value of `b` didn't change\n    onChange({ r: +r.value, g: +g.value, b: blue, a: +a.value });\n  };\n\n  const onAlphaEndEditing = (text: string) => {\n    const alpha = clamp(parseFloat(text), 1);\n    a.value = ''; // force update in case the value of `a` didn't change\n    onChange({ r: +r.value, g: +g.value, b: +b.value, a: alpha });\n  };\n\n  return (\n    <>\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={r}\n        title='R'\n        onEndEditing={onRedEndEditing}\n        inputProps={inputProps}\n      />\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={g}\n        title='G'\n        onEndEditing={onGreenEndEditing}\n        inputProps={inputProps}\n      />\n      <WidgetTextInput\n        inputStyle={inputStyle}\n        textStyle={inputTitleStyle}\n        textValue={b}\n        title='B'\n        onEndEditing={onBlueEndEditing}\n        inputProps={inputProps}\n      />\n      <ConditionalRendering if={!disableAlphaChannel}>\n        <WidgetTextInput\n          inputStyle={inputStyle}\n          textStyle={inputTitleStyle}\n          textValue={a}\n          title='A'\n          onEndEditing={onAlphaEndEditing}\n          inputProps={inputProps}\n          decimal\n        />\n      </ConditionalRendering>\n    </>\n  );\n}\n"],"mappings":"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"}