{"version":3,"sources":["selection-bar.tsx"],"names":["SelectionBar","theme","options","hide","selectionName","styles","defaultStyles","useStyles","rootStyle","selection","root","scrollStyle","scroll","closeViewStyle","close","view","closeTextStyle","text","map","item","index","type","formatType","color","valueOn","icon","source","name","StyleSheet","create","overlay","absoluteFillObject","backgroundColor","borderRadius","padding","position","top","width","flexDirection","justifyContent","alignItems","height","size","flexGrow","display","fontWeight","borderWidth","borderColor","paddingHorizontal","marginRight","marginLeft","Math","round"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  ScrollView,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport type { ToolbarTheme } from '../../types';\r\nimport { useToolbar } from './toolbar-context';\r\nimport { ToggleTextButton } from './toggle-text-button';\r\nimport { ToggleColorButton } from './toggle-color-button';\r\nimport { ToggleIconButton } from './toggle-icon-button';\r\nimport { formatType } from '../../constants/formats';\r\n\r\ninterface Props {}\r\n\r\nexport const SelectionBar: React.FC<Props> = ({}) => {\r\n  const { theme, options, hide, selectionName, styles } = useToolbar();\r\n  const defaultStyles = useStyles(theme);\r\n  const rootStyle = styles?.selection?.root\r\n    ? styles.selection.root(defaultStyles.selection)\r\n    : defaultStyles.selection;\r\n  const scrollStyle = styles?.selection?.scroll\r\n    ? styles.selection.scroll(defaultStyles.scroll)\r\n    : defaultStyles.scroll;\r\n  const closeViewStyle = styles?.selection?.close?.view\r\n    ? styles.selection.close.view(defaultStyles.close)\r\n    : defaultStyles.close;\r\n\r\n  const closeTextStyle = styles?.selection?.close?.text\r\n    ? styles.selection.close.text(defaultStyles.text)\r\n    : defaultStyles.text;\r\n  return (\r\n    <View style={rootStyle}>\r\n      <ScrollView\r\n        horizontal={true}\r\n        bounces={false}\r\n        showsHorizontalScrollIndicator={false}\r\n        contentContainerStyle={scrollStyle}\r\n      >\r\n        {options &&\r\n          options.map((item, index) => {\r\n            if (\r\n              item.type === formatType.color &&\r\n              item.valueOn !== true &&\r\n              typeof item.valueOn !== 'number'\r\n            ) {\r\n              return (\r\n                <ToggleColorButton\r\n                  key={index}\r\n                  name={selectionName}\r\n                  valueOff={false}\r\n                  valueOn={item.valueOn}\r\n                />\r\n              );\r\n            } else if (item.type === formatType.icon) {\r\n              return (\r\n                <ToggleIconButton\r\n                  key={index}\r\n                  source={item.source}\r\n                  name={selectionName}\r\n                  valueOff={false}\r\n                  valueOn={item.valueOn}\r\n                />\r\n              );\r\n            } else\r\n              return (\r\n                <ToggleTextButton\r\n                  key={index}\r\n                  name={selectionName}\r\n                  valueOff={false}\r\n                  valueOn={item.valueOn}\r\n                  valueName={item.name}\r\n                />\r\n              );\r\n          })}\r\n      </ScrollView>\r\n      <TouchableOpacity onPress={() => hide()}>\r\n        <View style={closeViewStyle}>\r\n          <Text style={closeTextStyle}>Ã—</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst useStyles = (theme: ToolbarTheme) =>\r\n  StyleSheet.create({\r\n    overlay: {\r\n      ...StyleSheet.absoluteFillObject,\r\n      backgroundColor: theme.overlay,\r\n      borderRadius: 3,\r\n    },\r\n    selection: {\r\n      padding: 2,\r\n      position: 'absolute',\r\n      top: 0,\r\n      backgroundColor: theme.overlay, //'=rgba(0,0,0,.1)',\r\n      width: '100%',\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      height: theme.size + 4,\r\n    },\r\n    scroll: {\r\n      flexGrow: 1,\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    text: {\r\n      color: theme.color,\r\n      fontWeight: 'bold',\r\n    },\r\n    close: {\r\n      borderRadius: 3,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      borderWidth: 1,\r\n      borderColor: theme.overlay,\r\n      paddingHorizontal: 10,\r\n      marginRight: 2,\r\n      marginLeft: 4,\r\n      height: Math.round(theme.size - 6),\r\n    },\r\n  });\r\n"]}